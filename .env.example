# Hail-Mary Docker Compose Environment Variables
# Copy this file to .env and fill in the values
# Note: This file is OPTIONAL - Docker Compose will work without it using trust-auth for Postgres

# ======================
# ALL VARIABLES HAVE SAFE DEFAULTS
# The application will start and run without any configuration
# ======================

# ======================
# DATABASE (Optional - has working default)
# ======================
# PostgreSQL connection URL (defaults to docker-compose postgres service)
# DATABASE_URL=postgres://postgres@hailmary-postgres:5432/hailmary

# ======================
# SERVER PORTS (Optional - have working defaults)
# ======================
# API server port (default: 3001) - internal, not exposed
# PORT=3001

# Assistant server port (default: 3002) - internal, not exposed
# ASSISTANT_PORT=3002

# External port for PWA (default: 3000)
# This is the port you access in your browser
# Change if port 3000 is already in use
# PWA_PORT=3000

# ======================
# SECURITY (REQUIRED for production!)
# ======================
# JWT Secret for authentication tokens
# ðŸ”´ CRITICAL: This MUST be set to a secure random value in production!
# ðŸ”´ The application will NOT start if this is not set or uses the default value.
#
# Generate a secure secret with:
#   node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#
# Example (DO NOT use this example value!):
# JWT_SECRET=a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6
#
# Without a secure JWT_SECRET, attackers can forge authentication tokens
# and gain unauthorized access, including admin accounts.
JWT_SECRET=

# Base URL for password reset links (defaults to https://hail_mary.cloudbibb.uk)
# BASE_URL=https://hail_mary.cloudbibb.uk

# ======================
# AI ASSISTANT (Optional)
# ======================
# Gemini API key for AI assistant features
# Get your key from: https://aistudio.google.com/app/apikey
# GEMINI_API_KEY=your-gemini-api-key

# Gemini model to use (default: gemini-1.5-flash)
# Options include: gemini-1.5-flash, gemini-1.5-pro, gemini-2.0-flash
# GEMINI_MODEL=gemini-1.5-flash

# ======================
# TRANSCRIPTION & DEPOT NOTES (Optional)
# ======================
# OpenAI API key for Whisper transcription and GPT-4 structuring
# Get your key from: https://platform.openai.com/api-keys
# OPENAI_API_KEY=your-openai-api-key

# Anthropic API key for Claude AI (fallback for depot notes structuring)
# Get your key from: https://console.anthropic.com/
# ANTHROPIC_API_KEY=your-anthropic-api-key

# Enable Whisper STT provider instead of mock (requires OPENAI_API_KEY)
# Default: false (uses mock provider)
# USE_WHISPER_STT=true

# ======================
# GOOGLE OAUTH (Optional - disabled by default)
# ======================
# Enable Google OAuth authentication
# ðŸ”´ IMPORTANT: Google OAuth is DISABLED by default to prevent crashes
# when credentials are not configured. Set to true only after configuring
# your Google OAuth credentials.
#
# Default: false (disabled)
# GOOGLE_AUTH_ENABLED=true
#
# Google OAuth credentials (required if GOOGLE_AUTH_ENABLED=true)
# Get these from: https://console.cloud.google.com/apis/credentials
# GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
# GOOGLE_CLIENT_SECRET=your-client-secret
#
# Optional: Override the callback URL (auto-generated from BASE_URL if not set)
# GOOGLE_CALLBACK_URL=https://your-domain.com/api/auth/google/callback

# ======================
# NAS AUTHENTICATION (Optional - for local deployments only)
# ======================
# Enable NAS quick login mode (passwordless login for trusted networks)
# ðŸ”´ SECURITY WARNING: Only enable this on trusted local networks!
# Default: false (disabled)
# NAS_AUTH_MODE=true
#
# Allowed IP ranges for NAS authentication (CIDR notation, comma-separated)
# By default, only RFC1918 private networks and localhost are allowed:
#   - 127.0.0.0/8 (localhost)
#   - 10.0.0.0/8 (Private A)
#   - 172.16.0.0/12 (Private B)
#   - 192.168.0.0/16 (Private C)
#
# To customize (e.g., restrict to specific subnet):
# NAS_ALLOWED_IPS=192.168.1.0/24,10.0.0.0/8
#
# To allow single IP:
# NAS_ALLOWED_IPS=192.168.1.100/32

# ======================
# INITIAL ADMIN USER (First Run - Optional)
# ======================
# These env vars are used to create an initial admin user on first run.
# The seed is idempotent - if the user already exists, it won't be recreated.
# 
# DEFAULT CREDENTIALS (if not set):
#   Email: admin@hailmary.local
#   Password: HailMary2024!
#
# For production deployments, change these values!
# INITIAL_ADMIN_EMAIL=admin@example.com
# INITIAL_ADMIN_PASSWORD=your-secure-password
